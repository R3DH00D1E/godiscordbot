# Discord Admin Bot

Бот для администрирования Discord-серверов с широким набором команд для модерации.

## Функциональность

Бот предоставляет следующие административные функции:

- Управление пользователями (кик, бан, разбан)
- Модерация (мут, размут)
- Очистка сообщений
- Информация о сервере
- Проверка статуса сервисов

## Команды

| Команда                                                                      | Описание                                                 |
| ----------------------------------------------------------------------------------- | ---------------------------------------------------------------- |
| `!help`                                                                           | Показать справку по командам            |
| `!status`                                                                         | Проверить статус godiscordbot                     |
| `!kick @пользователь [причина]`                                | Выгнать пользователя                          |
| `!ban @пользователь [дни] [причина]`                        | Забанить пользователя                        |
| `!unban ID`                                                                       | Разбанить пользователя по ID              |
| `!clear [число]`                                                             | Очистить сообщения (по умолчанию 10) |
| `!serverinfo`                                                                     | Информация о сервере                           |
| `!mute @пользователь [время в минутах] [причина]` | Замутить пользователя                        |
| `!unmute @пользователь`                                               | Размутить пользователя                      |

## Структура проекта

```
godiscordbot/
├── main.go                      // Инициализация и запуск бота
├── commands.go                  // Обработка команд и вывод справки
├── admin.go                     // Административные функции (кик, бан)
├── moderation.go                // Функции модерации (мут, очистка сообщений)
├── utils.go                     // Утилитарные функции и проверка сервисов
├── config/                      // Конфигурационные файлы
│   ├── config.go                // Работа с конфигурацией
│   └── config.json              // Файл конфигурации
├── settings/                    // Настройки бота
│   ├── settings.go              // Работа с настройками
│   └── settings.json            // Файл настроек
├── systemd/                     // Файлы для systemd
│   └── godiscordbot.service     // Сервисный файл для автозапуска
├── .github/                     // GitHub Actions
│   └── workflows/               // Рабочие процессы CI/CD
│       └── deploy.yml           // Скрипт деплоя
└── README.md                    // Документация проекта
```

## Настройка

1. Создайте бота в [Discord Developer Portal](https://discord.com/developers/applications)
2. Получите токен бота и добавьте его в файл `config.json` или в переменную окружения `ds_token`
3. Запустите бота командой: `go run .`

## Конфигурация

Конфигурация бота осуществляется через файл `config.json`:

```json
{
    "ds_token": "your_bot_token_here",
    "settings_file": "path/to/settings.json"
}
```

Путь к конфигурационному файлу можно указать через переменную окружения `CONFIG_PATH`.

## Требуемые разрешения

При добавлении бота на сервер, ему требуются следующие разрешения:

- Управление участниками
- Управление сообщениями
- Управление ролями
- Просмотр каналов
- Отправка сообщений
- Чтение истории сообщений
